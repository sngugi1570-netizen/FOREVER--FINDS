<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bubble Seat | Forever Finds</title>
  <link rel="stylesheet" href="../assets/css/main.css" />
</head>

<body>

  <div id="header"></div>

  <main class="section">
    <div class="container">
      
      <!-- BACK BUTTON -->
      <a href="../index.html#couches" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Gallery
      </a>

      <div class="product-layout">

      <!-- ================= LEFT: GALLERY ================= -->
      <div class="gallery">

        <!-- COLOR SELECTOR -->
        <div class="color-selector">
          <span class="color-label">Select Color:</span>

          <div class="color-options">
            <button class="color-btn active" data-color="black" style="background:#111;"></button>
            <button class="color-btn" data-color="olive-green" style="background:#21c251;"></button>
            <button class="color-btn" data-color="off-white" style="background:#f5f5f5;"></button>
            <button class="color-btn" data-color="burnt-orange" style="background:#c45a2c;"></button>
          </div>
        </div>

        <!-- MAIN IMAGE -->
        <div class="main-image" id="zoomTrigger">
          <img id="currentImage"
               src="../assets/images/couches/bubble-seat/black/1.jpg"
               alt="Bubble Seat">
        </div>

        <!-- VERTICAL THUMBNAILS -->
        <div class="thumbs-vertical" id="thumbnailContainer"></div>

      </div>

      <!-- ================= RIGHT: PRODUCT INFO ================= -->
      <div class="product-info">
        <h1>Bubble Seat</h1>
        <p class="product-description">
          Introducing our iconic Bubble Seat collectionâ€”a masterpiece of contemporary furniture design that redefines 
          luxury seating. Each individually sculpted bubble cushion is meticulously crafted and upholstered by hand, 
          creating a distinctive three-dimensional aesthetic that captivates from every angle. The innovative segmented 
          design isn't merely a visual statement; it delivers unparalleled ergonomic support, cradling your body in 
          cloud-like comfort while maintaining the structural integrity expected from premium furniture.
          <br><br>
          This extraordinary piece seamlessly bridges the gap between art and function, transforming your living space 
          into a gallery of modern sophistication. The plush, generously proportioned cushions invite you to sink in 
          and unwind, while the bold architectural silhouette commands attention as the centerpiece of any room. 
          Whether you're entertaining distinguished guests or enjoying quiet moments of reflection, the Bubble Seat 
          elevates every experience with its perfect marriage of avant-garde design and sumptuous comfort.
          <br><br>
          Handcrafted in Nairobi by master artisans who understand that true luxury lies in the details, each piece 
          undergoes rigorous quality control to ensure it meets our exacting standards. Choose from our curated palette 
          of premium fabrics and finishes to create a bespoke piece that reflects your unique aesthetic vision.
        </p>

        <div class="product-specs">
          <h3>Design Features</h3>
          <ul>
            <li><strong>Style:</strong> Modern Bubble Cushion Design</li>
            <li><strong>Available Colors:</strong> Black, Olive Green, Off-White, Burnt Orange, Gray</li>
            <li><strong>Seating:</strong> 3-Seater Sofa Configuration</li>
            <li><strong>Cushions:</strong> Individual Bubble-Style Segments</li>
            <li><strong>Customization:</strong> Fabric, Size, Color & Comfort Level</li>
            <li><strong>Crafted in:</strong> Nairobi, Kenya</li>
          </ul>
        </div>

        <a href="../customize.html?product=Bubble%20Seat"
           class="btn-primary">
           Customize This Design
        </a>

        <div class="product-note">
          <p><em>Each piece is custom-made to order. Final design, fabric selection, and pricing will be discussed during your consultation.</em></p>
        </div>
      </div>

    </div>
  </main>

  <!-- FULLSCREEN MODAL -->
  <div class="image-modal" id="imageModal">
    <span class="close-modal">&times;</span>
    <img class="modal-content" id="modalImage">
  </div>

  <div id="footer"></div>

  <script src="../assets/js/main.js"></script>

  <!-- ================= GALLERY SCRIPT ================= -->
  <script>
    const mainImage = document.getElementById("currentImage");
    const thumbnailContainer = document.getElementById("thumbnailContainer");
    const colorButtons = document.querySelectorAll(".color-btn");

    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImage");
    const closeModal = document.querySelector(".close-modal");

    let currentColor = "black";
    const totalImages = 4;
    let autoSlideIndex = 0;
    let autoSlideInterval;

    function loadGallery(color) {
      thumbnailContainer.innerHTML = "";
      autoSlideIndex = 0;

      for (let i = 1; i <= totalImages; i++) {

        const imgPath = `../assets/images/couches/bubble-seat/${color}/${i}.jpg`;

        const thumb = document.createElement("img");
        thumb.src = imgPath;
        thumb.classList.add("thumb");

        if (i === 1) {
          thumb.classList.add("active");
          mainImage.src = imgPath;
        }

        thumb.addEventListener("click", () => {

          document.querySelectorAll(".thumb").forEach(t => t.classList.remove("active"));
          thumb.classList.add("active");

          mainImage.style.opacity = "0";

          setTimeout(() => {
            mainImage.src = imgPath;
            mainImage.style.opacity = "1";
          }, 200);

          autoSlideIndex = i - 1;
        });

        thumbnailContainer.appendChild(thumb);
      }

      startAutoSlide();
    }

    /* COLOR SWITCH */
    colorButtons.forEach(button => {
      button.addEventListener("click", () => {

        document.querySelectorAll(".color-btn").forEach(b => b.classList.remove("active"));
        button.classList.add("active");

        currentColor = button.dataset.color;
        loadGallery(currentColor);
      });
    });

    /* AUTO SLIDESHOW */
    function startAutoSlide() {
      clearInterval(autoSlideInterval);

      autoSlideInterval = setInterval(() => {
        const thumbs = document.querySelectorAll(".thumb");
        autoSlideIndex = (autoSlideIndex + 1) % thumbs.length;
        thumbs[autoSlideIndex].click();
      }, 4000);
    }

    mainImage.addEventListener("mouseenter", () => {
      clearInterval(autoSlideInterval);
    });

    mainImage.addEventListener("mouseleave", () => {
      startAutoSlide();
    });

    /* FULLSCREEN ZOOM */
    mainImage.addEventListener("click", () => {
      modal.style.display = "flex";
      modalImg.src = mainImage.src;
    });

    closeModal.addEventListener("click", () => {
      modal.style.display = "none";
    });

    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        modal.style.display = "none";
      }
    });

    loadGallery(currentColor);
  </script>

</body>
</html>
