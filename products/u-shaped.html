<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>U-Shaped Sofa | Forever Finds</title>
  <link rel="stylesheet" href="../assets/css/main.css" />
</head>

<body>

<div id="header"></div>

<main class="section">
  <div class="container product-layout">

    <div class="gallery">

      <div class="color-selector">
        <span class="color-label">Select Color:</span>
        <div class="color-options">
          <button class="color-btn" data-color="off-white" style="background:#f5f5f5;"></button>
          <button class="color-btn active" data-color="black" style="background:#111;"></button>
          <button class="color-btn" data-color="olive-green" style="background:#21c251;"></button>
          <button class="color-btn" data-color="burnt-orange" style="background:#c45a2c;"></button>
        </div>
      </div>

      <div class="main-image" id="zoomTrigger">
        <img id="currentImage"
             src="../assets/images/couches/u-shaped/off-white/1.jpg"
             alt="U-Shaped Sofa">
      </div>

      <div class="thumbs-vertical" id="thumbnailContainer"></div>

    </div>

    <div class="product-info">
      <h1>U-Shaped Sectional Sofa</h1>
      <p class="product-description">
        The U-Shaped Sectional is the pinnacle of luxury seating, designed for spacious living areas 
        and those who love to entertain. This expansive configuration wraps around to create an intimate, 
        enclosed seating area that encourages conversation and togetherness. With seating on three sides, 
        it accommodates large gatherings while maintaining an elegant presence. The generous proportions 
        and deep cushioning provide unparalleled comfort, making it the centerpiece of any grand living space. 
        Ideal for family rooms, entertainment areas, or open-concept living.
      </p>

      <div class="product-specs">
        <h3>Design Features</h3>
        <ul>
          <li><strong>Style:</strong> U-Shaped Sectional Configuration</li>
          <li><strong>Available Colors:</strong> Black, Olive Green, Off-White, Burnt Orange, Gray</li>
          <li><strong>Seating:</strong> 7-9 Person Capacity</li>
          <li><strong>Configuration:</strong> Three-Sided Wraparound Design</li>
          <li><strong>Customization:</strong> Fabric, Dimensions, Layout & Comfort Level</li>
          <li><strong>Crafted in:</strong> Nairobi, Kenya</li>
        </ul>
      </div>

      <a href="../customize.html?product=U-Shaped%20Sofa"
         class="btn-primary">
         Customize This Design
      </a>

      <div class="product-note">
        <p><em>Each piece is custom-made to order. Final design, fabric selection, and pricing will be discussed during your consultation.</em></p>
      </div>
    </div>

  </div>
</main>

<div class="image-modal" id="imageModal">
  <span class="close-modal">&times;</span>
  <img class="modal-content" id="modalImage">
</div>

<div id="footer"></div>

<script src="../assets/js/main.js"></script>

<script>
const mainImage = document.getElementById("currentImage");
const thumbnailContainer = document.getElementById("thumbnailContainer");
const colorButtons = document.querySelectorAll(".color-btn");

const modal = document.getElementById("imageModal");
const modalImg = document.getElementById("modalImage");
const closeModal = document.querySelector(".close-modal");

let currentColor = "black";
const totalImages = 4;
let autoSlideIndex = 0;
let autoSlideInterval;

function loadGallery(color) {
  thumbnailContainer.innerHTML = "";
  autoSlideIndex = 0;

  for (let i = 1; i <= totalImages; i++) {

    const imgPath = `../assets/images/couches/u-shaped/${color}/${i}.jpg`;

    const thumb = document.createElement("img");
    thumb.src = imgPath;
    thumb.classList.add("thumb");

    if (i === 1) {
      thumb.classList.add("active");
      mainImage.src = imgPath;
    }

    thumb.addEventListener("click", () => {

      document.querySelectorAll(".thumb").forEach(t => t.classList.remove("active"));
      thumb.classList.add("active");

      mainImage.style.opacity = "0";

      setTimeout(() => {
        mainImage.src = imgPath;
        mainImage.style.opacity = "1";
      }, 200);

      autoSlideIndex = i - 1;
    });

    thumbnailContainer.appendChild(thumb);
  }

  startAutoSlide();
}

colorButtons.forEach(button => {
  button.addEventListener("click", () => {

    document.querySelectorAll(".color-btn").forEach(b => b.classList.remove("active"));
    button.classList.add("active");

    currentColor = button.dataset.color;
    loadGallery(currentColor);
  });
});

function startAutoSlide() {
  clearInterval(autoSlideInterval);

  autoSlideInterval = setInterval(() => {
    const thumbs = document.querySelectorAll(".thumb");
    autoSlideIndex = (autoSlideIndex + 1) % thumbs.length;
    thumbs[autoSlideIndex].click();
  }, 4000);
}

mainImage.addEventListener("mouseenter", () => {
  clearInterval(autoSlideInterval);
});

mainImage.addEventListener("mouseleave", () => {
  startAutoSlide();
});

mainImage.addEventListener("click", () => {
  modal.style.display = "flex";
  modalImg.src = mainImage.src;
});

closeModal.addEventListener("click", () => {
  modal.style.display = "none";
});

modal.addEventListener("click", (e) => {
  if (e.target === modal) {
    modal.style.display = "none";
  }
});

loadGallery(currentColor);
</script>

</body>
</html>
